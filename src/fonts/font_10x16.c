/*
 * font_10x16.c
 *
 *  Created on: Feb 22, 2017
 *      Author: se
 */

#include "stm32f0xx.h"
#include "font_10x16.h"

//	0 -> 00
//	1 -> 03
//	2 -> 0c
//	3 -> 0f
//	4 -> 30
//	5 -> 33
//	6 -> 3c
//	7 -> 3f
//	8 -> c0
//	9 -> c3
//	a -> cc
//	b -> cf
//	c -> f0
//	d -> f3
//	e -> fc
//	f -> ff

#define FON2_T static const uint16_t

FON2_T f2_0x30[10] = { 0x0FFC,0x0FFC, 0x3303,0x3303, 0x30C3,0x30C3, 0x3033,0x3033, 0x0FFC,0x0FFC }; // 0
FON2_T f2_0x31[10] = { 0x0000,0x0000, 0x300C,0x300C, 0x3FFF,0x3FFF, 0x3000,0x3000, 0x0000,0x0000 }; // 1
FON2_T f2_0x32[10] = { 0x300C,0x300C, 0x3C03,0x3C03, 0x3303,0x3303, 0x30C3,0x30C3, 0x303C,0x303C }; // 2
FON2_T f2_0x33[10] = { 0x0C03,0x0C03, 0x3003,0x3003, 0x3033,0x3033, 0x30CF,0x30CF, 0x0F03,0x0F03 }; // 3
FON2_T f2_0x34[10] = { 0x03C0,0x03C0, 0x0330,0x0330, 0x030C,0x030C, 0x3FFF,0x3FFF, 0x0300,0x0300 }; // 4
FON2_T f2_0x35[10] = { 0x0C3F,0x0C3F, 0x3033,0x3033, 0x3033,0x3033, 0x3033,0x3033, 0x0FC3,0x0FC3 }; // 5
FON2_T f2_0x36[10] = { 0x0FF0,0x0FF0, 0x30CC,0x30CC, 0x30C3,0x30C3, 0x30C3,0x30C3, 0x0F00,0x0F00 }; // 6
FON2_T f2_0x37[10] = { 0x0003,0x0003, 0x3F03,0x3F03, 0x00C3,0x00C3, 0x0033,0x0033, 0x000F,0x000F }; // 7
FON2_T f2_0x38[10] = { 0x0F3C,0x0F3C, 0x30C3,0x30C3, 0x30C3,0x30C3, 0x30C3,0x30C3, 0x0F3C,0x0F3C }; // 8
FON2_T f2_0x39[10] = { 0x003C,0x003C, 0x30C3,0x30C3, 0x30C3,0x30C3, 0x0CC3,0x0CC3, 0x03FC,0x03FC }; // 9

FON2_T f2_0x3F[10] = { 0x000C,0x000C, 0x0003,0x0003, 0x3303,0x3303, 0x00C3,0x00C3, 0x003C,0x003C }; // ?

typedef struct {
	uint16_t code;
	const uint16_t* img;
} TUcode_t;

TUcode_t font10x16[] = {
		{ 0x30, f2_0x30 },
		{ 0x31, f2_0x31 },
		{ 0x32, f2_0x32 },
		{ 0x33, f2_0x33 },
		{ 0x34, f2_0x34 },
		{ 0x35, f2_0x35 },
		{ 0x36, f2_0x36 },
		{ 0x37, f2_0x37 },
		{ 0x38, f2_0x38 },
		{ 0x39, f2_0x39 },
};

const uint16_t* getFont10x16( const uint16_t key) {
	int len = sizeof( font10x16 ) / sizeof ( TUcode_t );

	int found = 0;
	int high = len - 1, low = 0;
	int middle = (high + low) / 2;
	while ( !found && high >= low ){
		if ( key == font10x16[middle].code ) {
			found = 1;
			break;
		} else if (key < font10x16[middle].code ) {
			high = middle - 1;
		} else {
			low = middle + 1;
		}
		middle = (high + low) / 2;
	}
	return (found == 1) ? font10x16[middle].img : f2_0x3F ;
}
